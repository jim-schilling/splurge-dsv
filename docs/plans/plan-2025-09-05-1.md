## Action Plan - 2025-09-05

### Goal
Achieve compliance with updated Cursor rules: CLI JSON support, docs completeness, consistent versioning, and changelog.

### Requirements
- Provide CLI JSON output format alongside existing table output.
- Add `docs/README-details.md` describing features, usage, and examples.
- Add `CHANGELOG.md` with current and prior entries.
- Ensure CLI `--version` matches project version.

### Acceptance Criteria
- `python -m splurge_dsv --help` shows `--output-format {table,json}`.
- `python -m splurge_dsv data.csv -d , --output-format json` prints valid JSON array of arrays to stdout.
- `docs/README-details.md` exists with overview, usage, examples, and links.
- `CHANGELOG.md` exists with entry for 2025.1.4 noting CLI JSON support and docs updates.
- `splurge_dsv.cli --version` equals `pyproject.toml` version.

### Testing Strategy
- BDD-style integration tests in `tests/integration/test_cli_json_output.py`:
  - JSON output format end-to-end parse for file.
  - Error path still emits to stderr; JSON not printed on errors.
- Unit tests in `tests/unit/test_cli.py` for argument parsing includes `--output-format`.
- Update coverage remains >=85%.

### Implementation Steps
1) Update `splurge_dsv/cli.py`:
   - Add `--output-format` choice with defaults.
   - Print JSON via `json.dumps(rows)` when selected.
   - Sync version by importing from `splurge_dsv.__init__`.
2) Update `splurge_dsv/__init__.py` to expose `__version__ = "2025.1.4"`.
3) Add `docs/README-details.md`.
4) Add `CHANGELOG.md` with latest changes.
5) Add tests for JSON output and version consistency.


